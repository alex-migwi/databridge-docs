<!DOCTYPE html><html lang="en" class="scroll-smooth"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><meta name="description" content="Deploy your DataBridge API to production with confidence"><meta name="author" content="DataBridge Docs"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://alex-migwi.github.io/databridge-docs/docs/databridge/deployment/production-deployment/"><meta property="og:title" content="Production Deployment - DataBridge Docs"><meta property="og:description" content="Deploy your DataBridge API to production with confidence"><meta property="og:site_name" content="DataBridge Docs"><!-- Twitter --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="https://alex-migwi.github.io/databridge-docs/docs/databridge/deployment/production-deployment/"><meta name="twitter:title" content="Production Deployment - DataBridge Docs"><meta name="twitter:description" content="Deploy your DataBridge API to production with confidence"><!-- Canonical URL --><link rel="canonical" href="https://alex-migwi.github.io/databridge-docs/docs/databridge/deployment/production-deployment/"><title>Production Deployment - DataBridge Docs</title><script>
            // Theme initialization - must run before page renders
            (function() {
                const getThemePreference = () => {
                    if (
                        typeof localStorage !== "undefined" &&
                        localStorage.getItem("theme")
                    ) {
                        return localStorage.getItem("theme");
                    }
                    return window.matchMedia("(prefers-color-scheme: dark)").matches
                        ? "dark"
                        : "light";
                };
                const theme = getThemePreference();
                if (theme === "dark") {
                    document.documentElement.classList.add("dark");
                } else {
                    document.documentElement.classList.remove("dark");
                }
            })();

            if (typeof localStorage !== "undefined") {
                const observer = new MutationObserver(() => {
                    const isDark =
                        document.documentElement.classList.contains("dark");
                    localStorage.setItem("theme", isDark ? "dark" : "light");
                });
                observer.observe(document.documentElement, {
                    attributes: true,
                    attributeFilter: ["class"],
                });
            }
        </script><link rel="stylesheet" href="/databridge-docs/_astro/dashboard.yRg8Cl78.css">
<style>.code-block-wrapper[data-astro-cid-a3hy7aej]{position:relative;margin:1.5rem 0}.copy-button[data-astro-cid-a3hy7aej]{position:absolute;top:.5rem;right:.5rem;padding:.5rem;border-radius:.375rem;background:hsl(var(--muted));border:1px solid hsl(var(--border));color:hsl(var(--muted-foreground));cursor:pointer;opacity:0;transition:opacity .2s,background .2s,color .2s;z-index:10}.code-block-wrapper[data-astro-cid-a3hy7aej]:hover .copy-button[data-astro-cid-a3hy7aej]{opacity:1}.copy-button[data-astro-cid-a3hy7aej]:hover{background:hsl(var(--accent));color:hsl(var(--accent-foreground))}.copy-button[data-astro-cid-a3hy7aej].copied{background:hsl(var(--primary));color:hsl(var(--primary-foreground))}.copy-button[data-astro-cid-a3hy7aej] svg[data-astro-cid-a3hy7aej]{width:16px;height:16px;display:block}.hidden[data-astro-cid-a3hy7aej]{display:none}
</style></head> <body class="bg-background text-foreground min-h-screen flex flex-col"> <header class="fixed top-0 left-0 right-0 z-50 border-b border-border bg-background/80 backdrop-blur-md supports-[backdrop-filter]:bg-background/60"> <div class="flex h-16 items-center px-4 sm:px-6 lg:px-8"> <button id="sidebar-toggle" class="mr-4 md:hidden p-2 text-muted-foreground hover:text-foreground"> <span class="sr-only">Open sidebar</span> <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path> </svg> </button> <div class="flex items-center gap-2 font-bold text-xl tracking-tight"> <a href="/databridge-docs/" class="flex items-center gap-3 hover:opacity-80 transition-opacity"> <img src="/databridge-docs/logo.svg" alt="DataBridge Docs" class="h-8 w-8"> <span class="text-foreground">DataBridge Docs</span> </a> </div> <div class="flex-1"></div> <div class="flex items-center gap-4"> <div class="hidden md:block w-64"> <div class="relative" data-astro-cid-otpdt6jm> <button id="search-trigger" class="w-full flex items-center gap-2 px-3 py-2 text-sm text-muted-foreground bg-muted/50 rounded-md border border-border hover:border-primary transition-colors" data-astro-cid-otpdt6jm> <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-otpdt6jm> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" data-astro-cid-otpdt6jm></path> </svg> <span data-astro-cid-otpdt6jm>Search...</span> <kbd class="ml-auto px-2 py-0.5 text-xs bg-background border border-border rounded" data-astro-cid-otpdt6jm>⌘K</kbd> </button> </div> <!-- Search Modal - Portal to body level --> <teleport-search-modal data-astro-cid-otpdt6jm="true"> <div id="search-modal" class="hidden fixed inset-0 z-[9999] overflow-y-auto" style="z-index: 9999 !important;" data-astro-cid-otpdt6jm> <div class="flex min-h-screen items-start justify-center p-4 pt-20" data-astro-cid-otpdt6jm> <div class="fixed inset-0 bg-background/80 backdrop-blur-sm" id="search-backdrop" data-astro-cid-otpdt6jm></div> <div class="relative w-full max-w-2xl bg-background border border-border rounded-lg shadow-lg" data-astro-cid-otpdt6jm> <div class="flex items-center gap-3 px-4 py-3 border-b border-border" data-astro-cid-otpdt6jm> <svg class="w-5 h-5 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-otpdt6jm> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" data-astro-cid-otpdt6jm></path> </svg> <input id="search-input" type="text" placeholder="Search documentation..." class="flex-1 bg-transparent outline-none text-foreground placeholder:text-muted-foreground" autocomplete="off" data-astro-cid-otpdt6jm> <button id="search-close" class="text-muted-foreground hover:text-foreground" data-astro-cid-otpdt6jm> <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-otpdt6jm> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" data-astro-cid-otpdt6jm></path> </svg> </button> </div> <div id="search-results" class="max-h-[60vh] overflow-y-auto p-2" data-astro-cid-otpdt6jm> <div class="px-4 py-8 text-center text-muted-foreground" data-astro-cid-otpdt6jm>
Start typing to search...
</div> </div> </div> </div> <script type="module">const u=document.querySelector("teleport-search-modal");if(u){const e=u.querySelector("#search-modal");e&&(document.body.appendChild(e),u.remove())}const c=document.getElementById("search-modal"),b=document.getElementById("search-trigger"),E=document.getElementById("search-close"),C=document.getElementById("search-backdrop"),h=document.getElementById("search-input"),s=document.getElementById("search-results");let x=[],o=-1;async function M(){try{x=await(await fetch("/databridge-docs/search-index.json")).json()}catch(e){console.error("Failed to load search index:",e)}}function I(e){if(!e.trim()){s.innerHTML='<div class="px-4 py-8 text-center text-muted-foreground">Start typing to search...</div>';return}const n=e.toLowerCase(),d=x.filter(t=>t.title&&t.title.toLowerCase().includes(n)||t.description&&t.description.toLowerCase().includes(n)||t.content&&t.content.toLowerCase().includes(n)).slice(0,10);if(d.length===0){s.innerHTML='<div class="px-4 py-8 text-center text-muted-foreground">No results found</div>';return}function g(t,r){if(!t||!r)return t||"";const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=new RegExp(`(${a})`,"gi");return t.replace(i,'<mark class="bg-primary/20 text-foreground rounded px-0.5">$1</mark>')}function L(t,r){if(!t)return"";const a=t.toLowerCase(),i=r.toLowerCase(),l=a.indexOf(i);if(l===-1)return t.substring(0,150)+"...";const p=Math.max(0,l-50),y=Math.min(t.length,l+r.length+100),k=(p>0?"...":"")+t.substring(p,y)+(y<t.length?"...":"");return g(k,r)}s.innerHTML=d.map((t,r)=>`
      <a href="/docs/${t.slug}" 
         class="block px-4 py-3 rounded-md hover:bg-muted/50 transition-colors search-result"
         data-index="${r}">
        <div class="font-medium text-foreground">${g(t.title||"Untitled",n)}</div>
        <div class="text-sm text-muted-foreground line-clamp-2 mt-1">${L(t.description||t.content||"",n)}</div>
      </a>
    `).join(""),m()}function w(){c?.classList.remove("hidden"),h?.focus(),document.body.style.overflow="hidden",o=-1}function f(){c?.classList.add("hidden"),h.value="",s.innerHTML='<div class="px-4 py-8 text-center text-muted-foreground">Start typing to search...</div>',document.body.style.overflow="",o=-1}function m(){const e=document.querySelectorAll(".search-result");e.forEach(n=>n.classList.remove("bg-muted/50")),o>=0&&o<e.length&&(e[o].classList.add("bg-muted/50"),e[o].scrollIntoView({block:"nearest",behavior:"smooth"}))}function $(e){const n=document.querySelectorAll(".search-result");n.length!==0&&(e.key==="ArrowDown"?(e.preventDefault(),o=Math.min(o+1,n.length-1),m()):e.key==="ArrowUp"?(e.preventDefault(),o=Math.max(o-1,-1),m()):e.key==="Enter"&&o>=0&&(e.preventDefault(),n[o].click()))}b?.addEventListener("click",w);E?.addEventListener("click",f);C?.addEventListener("click",f);document.addEventListener("keydown",e=>{(e.metaKey||e.ctrlKey)&&e.key==="k"&&(e.preventDefault(),w()),e.key==="Escape"&&f(),c&&!c.classList.contains("hidden")&&$(e)});let v;h?.addEventListener("input",e=>{clearTimeout(v),v=setTimeout(()=>{I(e.target.value)},300)});M();</script> </div></teleport-search-modal> </div> <nav class="flex items-center gap-4">  <button id="theme-toggle" type="button" class="inline-flex items-center justify-center rounded-md p-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50" aria-label="Toggle theme"> <!-- Sun Icon (Shows in Dark Mode) --> <svg id="sun-icon" class="h-5 w-5 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path> </svg> <!-- Moon Icon (Shows in Light Mode) --> <svg id="moon-icon" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path> </svg> </button> <script>
    const updateIcons = () => {
        const isDark = document.documentElement.classList.contains("dark");
        const sunIcon = document.getElementById("sun-icon");
        const moonIcon = document.getElementById("moon-icon");
        
        if (isDark) {
            sunIcon?.classList.remove("hidden");
            moonIcon?.classList.add("hidden");
        } else {
            sunIcon?.classList.add("hidden");
            moonIcon?.classList.remove("hidden");
        }
    };
    
    const handleToggleClick = () => {
        const element = document.documentElement;
        element.classList.toggle("dark");

        const isDark = element.classList.contains("dark");
        localStorage.setItem("theme", isDark ? "dark" : "light");
        
        updateIcons();
    };

    document
        .getElementById("theme-toggle")
        ?.addEventListener("click", handleToggleClick);
    
    // Initialize icons on page load
    updateIcons();
</script> </nav> </div> </div> </header> <div class="flex flex-1 pt-16"> <aside id="sidebar" class="fixed inset-y-0 left-0 z-50 w-64 transform bg-background border-r border-border transition-transform duration-300 ease-in-out -translate-x-full md:translate-x-0 md:sticky md:top-16 md:h-[calc(100vh-4rem)] md:overflow-y-auto pt-16 md:pt-0"> <nav class="h-full px-4 py-6 overflow-y-auto"> <ul class="space-y-1"> <li class="mt-1"> <a href="/databridge-docs/docs/databridge" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 text-muted-foreground hover:text-foreground hover:bg-muted/50"> DataBridge Documentation </a> <div class="ml-3 border-l border-border pl-3"> <ul class="space-y-1"> <li class="mt-1"> <a href="/databridge-docs/docs/databridge/introduction" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 text-muted-foreground hover:text-foreground hover:bg-muted/50"> Introduction to DataBridge </a>  </li><li class="mt-1"> <a href="/databridge-docs/docs/databridge/changelog" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 text-muted-foreground hover:text-foreground hover:bg-muted/50"> Changelog </a>  </li><li class="mt-1"> <a href="/databridge-docs/docs/databridge/releases" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 text-muted-foreground hover:text-foreground hover:bg-muted/50"> Releases </a>  </li><li class="mt-1"> <span class="block py-2 px-3 text-sm font-semibold text-foreground mt-4 mb-2"> Advanced </span> <div class="ml-3 border-l border-border pl-3"> <ul class="space-y-1"> <li class="mt-1"> <a href="/databridge-docs/docs/databridge/advanced/cli-development-part-1" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 text-muted-foreground hover:text-foreground hover:bg-muted/50"> CLI Development - Part 1 </a>  </li><li class="mt-1"> <a href="/databridge-docs/docs/databridge/advanced/cli-development-part-2" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 text-muted-foreground hover:text-foreground hover:bg-muted/50"> CLI Development - Part 2 </a>  </li><li class="mt-1"> <a href="/databridge-docs/docs/databridge/advanced/cli-development-part-3" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 text-muted-foreground hover:text-foreground hover:bg-muted/50"> CLI Development - Part 3 </a>  </li><li class="mt-1"> <a href="/databridge-docs/docs/databridge/advanced/docusaurus-setup" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 text-muted-foreground hover:text-foreground hover:bg-muted/50"> Docusaurus Setup </a>  </li> </ul> </div> </li><li class="mt-1"> <span class="block py-2 px-3 text-sm font-semibold text-foreground mt-4 mb-2"> Deployment </span> <div class="ml-3 border-l border-border pl-3"> <ul class="space-y-1"> <li class="mt-1"> <a href="/databridge-docs/docs/databridge/deployment/production-deployment" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 bg-primary/10 text-primary font-medium"> Production Deployment </a>  </li> </ul> </div> </li><li class="mt-1"> <span class="block py-2 px-3 text-sm font-semibold text-foreground mt-4 mb-2"> Development </span> <div class="ml-3 border-l border-border pl-3"> <ul class="space-y-1"> <li class="mt-1"> <a href="/databridge-docs/docs/databridge/development/understanding-generated-code" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 text-muted-foreground hover:text-foreground hover:bg-muted/50"> Understanding Generated Code </a>  </li><li class="mt-1"> <a href="/databridge-docs/docs/databridge/development/validation-guide" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 text-muted-foreground hover:text-foreground hover:bg-muted/50"> Validation with Zod </a>  </li><li class="mt-1"> <a href="/databridge-docs/docs/databridge/development/testing-guide" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 text-muted-foreground hover:text-foreground hover:bg-muted/50"> Testing Your API </a>  </li> </ul> </div> </li><li class="mt-1"> <span class="block py-2 px-3 text-sm font-semibold text-foreground mt-4 mb-2"> Getting Started </span> <div class="ml-3 border-l border-border pl-3"> <ul class="space-y-1"> <li class="mt-1"> <a href="/databridge-docs/docs/databridge/getting-started/database-setup" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 text-muted-foreground hover:text-foreground hover:bg-muted/50"> Database Connection Setup </a>  </li><li class="mt-1"> <a href="/databridge-docs/docs/databridge/getting-started/quick-start" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 text-muted-foreground hover:text-foreground hover:bg-muted/50"> Quick Start Guide </a>  </li><li class="mt-1"> <a href="/databridge-docs/docs/databridge/getting-started/getting-started-guide" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 text-muted-foreground hover:text-foreground hover:bg-muted/50"> Getting Started Guide </a>  </li><li class="mt-1"> <a href="/databridge-docs/docs/databridge/getting-started/core-concepts" class="block py-2 px-3 text-sm rounded-md transition-colors duration-200 text-muted-foreground hover:text-foreground hover:bg-muted/50"> Core Concepts </a>  </li> </ul> </div> </li> </ul> </div> </li> </ul> </nav> </aside> <div id="sidebar-backdrop" class="fixed inset-0 z-40 bg-background/80 backdrop-blur-sm md:hidden hidden" aria-hidden="true"></div> <main class="flex-1 min-w-0"> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 flex gap-10"> <article class="flex-1 prose dark:prose-invert max-w-4xl prose-headings:scroll-mt-20 prose-a:text-primary hover:prose-a:text-primary/80"> <nav class="flex items-center gap-2 text-sm text-muted-foreground mb-6"> <a href="/databridge-docs/" class="hover:text-foreground transition-colors">Home</a>  <span class="mx-1">/</span> <a href="/databridge-docs/docs/databridge" class="hover:text-foreground transition-colors"> Databridge </a> <span class="mx-1">/</span> <a href="/databridge-docs/docs/databridge/deployment" class="hover:text-foreground transition-colors"> Deployment </a> <span class="mx-1">/</span> <span class="text-foreground font-medium">Production Deployment</span> </nav> <div class="not-prose mb-10"> <h1 class="text-3xl font-semibold mb-4 text-foreground"> Production Deployment </h1> <p class="text-lg text-muted-foreground leading-relaxed"> Deploy your DataBridge API to production with confidence </p> </div>  <h1 id="production-deployment">Production Deployment</h1>
<p>Complete guide to deploying your DataBridge API to production environments.</p>
<h2 id="overview">Overview</h2>
<p>This guide covers deployment to popular platforms:</p>
<ul>
<li>Railway</li>
<li>Vercel</li>
<li>AWS (EC2, ECS)</li>
<li>DigitalOcean</li>
<li>Heroku alternatives</li>
</ul>
<hr>
<h2 id="pre-deployment-checklist">Pre-Deployment Checklist</h2>
<h3 id="environment-variables">Environment Variables</h3>
<p>Create <code>.env.production</code>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#E1E4E8">DATABASE_URL</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"mysql://user:pass@production-db:3306/mydb?ssl=true"</span></span>
<span class="line"><span style="color:#E1E4E8">NODE_ENV</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">production</span></span>
<span class="line"><span style="color:#E1E4E8">API_PORT</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">8080</span></span>
<span class="line"><span style="color:#E1E4E8">CORS_ORIGIN</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"https://yourdomain.com"</span></span>
<span class="line"><span style="color:#E1E4E8">JWT_SECRET</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"your-production-secret-change-this"</span></span></code></pre>
<h3 id="production-dependencies">Production Dependencies</h3>
<p>Ensure <code>package.json</code> has all runtime dependencies:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  "dependencies"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    "fastify"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"^5.6.2"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "@fastify/cors"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"^11.1.0"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "@prisma/client"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"^5.22.0"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "prisma"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"^5.22.0"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "zod"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"^3.25.76"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "pino"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"^9.6.0"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "pino-pretty"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"^13.1.2"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "tsx"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"^4.20.6"</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#79B8FF">  "scripts"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    "build"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"tsc"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "start"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"node dist/server.js"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "dev"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"tsx src/server.ts"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "prisma:generate"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"prisma generate"</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="build-configuration">Build Configuration</h3>
<p><code>tsconfig.json</code>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  "compilerOptions"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    "target"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"ES2022"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "module"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"commonjs"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "lib"</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">"ES2022"</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#79B8FF">    "outDir"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"./dist"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "rootDir"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"./src"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "strict"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "esModuleInterop"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "skipLibCheck"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "forceConsistentCasingInFileNames"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">true</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#79B8FF">  "include"</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">"src/**/*"</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#79B8FF">  "exclude"</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">"node_modules"</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<hr>
<h2 id="railway-deployment">Railway Deployment</h2>
<p>Railway offers the easiest deployment with MySQL support.</p>
<h3 id="step-1-install-railway-cli">Step 1: Install Railway CLI</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> install</span><span style="color:#79B8FF"> -g</span><span style="color:#9ECBFF"> @railway/cli</span></span>
<span class="line"><span style="color:#B392F0">railway</span><span style="color:#9ECBFF"> login</span></span></code></pre>
<h3 id="step-2-initialize-project">Step 2: Initialize Project</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">railway</span><span style="color:#9ECBFF"> init</span></span>
<span class="line"><span style="color:#B392F0">railway</span><span style="color:#9ECBFF"> link</span></span></code></pre>
<h3 id="step-3-add-mysql-database">Step 3: Add MySQL Database</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">railway</span><span style="color:#9ECBFF"> add</span><span style="color:#9ECBFF"> mysql</span></span></code></pre>
<p>Railway will automatically set <code>DATABASE_URL</code> environment variable.</p>
<h3 id="step-4-configure-build">Step 4: Configure Build</h3>
<p>Create <code>railway.json</code>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  "build"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    "builder"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"NIXPACKS"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "buildCommand"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"npm install &#x26;&#x26; npm run prisma:generate &#x26;&#x26; npm run build"</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#79B8FF">  "deploy"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    "startCommand"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"npm start"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "restartPolicyType"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"ON_FAILURE"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "restartPolicyMaxRetries"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">10</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="step-5-deploy">Step 5: Deploy</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">railway</span><span style="color:#9ECBFF"> up</span></span></code></pre>
<p>Get your deployment URL:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">railway</span><span style="color:#9ECBFF"> status</span></span></code></pre>
<h3 id="environment-variables-1">Environment Variables</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">railway</span><span style="color:#9ECBFF"> variables</span><span style="color:#9ECBFF"> set</span><span style="color:#9ECBFF"> NODE_ENV=production</span></span>
<span class="line"><span style="color:#B392F0">railway</span><span style="color:#9ECBFF"> variables</span><span style="color:#9ECBFF"> set</span><span style="color:#9ECBFF"> API_PORT=</span><span style="color:#79B8FF">8080</span></span>
<span class="line"><span style="color:#B392F0">railway</span><span style="color:#9ECBFF"> variables</span><span style="color:#9ECBFF"> set</span><span style="color:#9ECBFF"> CORS_ORIGIN=https://yourdomain.com</span></span></code></pre>
<hr>
<h2 id="vercel-deployment">Vercel Deployment</h2>
<p>Vercel is great for serverless deployments.</p>
<h3 id="step-1-install-vercel-cli">Step 1: Install Vercel CLI</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> install</span><span style="color:#79B8FF"> -g</span><span style="color:#9ECBFF"> vercel</span></span>
<span class="line"><span style="color:#B392F0">vercel</span><span style="color:#9ECBFF"> login</span></span></code></pre>
<h3 id="step-2-configure-verceljson">Step 2: Configure <code>vercel.json</code></h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  "version"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">  "builds"</span><span style="color:#E1E4E8">: [</span></span>
<span class="line"><span style="color:#E1E4E8">    {</span></span>
<span class="line"><span style="color:#79B8FF">      "src"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"src/server.ts"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "use"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"@vercel/node"</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  ],</span></span>
<span class="line"><span style="color:#79B8FF">  "routes"</span><span style="color:#E1E4E8">: [</span></span>
<span class="line"><span style="color:#E1E4E8">    {</span></span>
<span class="line"><span style="color:#79B8FF">      "src"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"/(.*)"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "dest"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"src/server.ts"</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  ],</span></span>
<span class="line"><span style="color:#79B8FF">  "env"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    "NODE_ENV"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"production"</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="step-3-add-serverless-adapter">Step 3: Add Serverless Adapter</h3>
<p>Update <code>src/server.ts</code>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Fastify </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> 'fastify'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> fastify</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> Fastify</span><span style="color:#E1E4E8">({ logger: </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// ... register plugins and routes ...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// For Vercel</span></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> default</span><span style="color:#F97583"> async</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">req</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">res</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  await</span><span style="color:#E1E4E8"> fastify.</span><span style="color:#B392F0">ready</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">  fastify.server.</span><span style="color:#B392F0">emit</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'request'</span><span style="color:#E1E4E8">, req, res);</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// For local development</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (require.main </span><span style="color:#F97583">===</span><span style="color:#79B8FF"> module</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">  fastify.</span><span style="color:#B392F0">listen</span><span style="color:#E1E4E8">({ port: </span><span style="color:#79B8FF">3000</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="step-4-deploy">Step 4: Deploy</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">vercel</span></span></code></pre>
<hr>
<h2 id="aws-ec2-deployment">AWS EC2 Deployment</h2>
<p>Traditional VM deployment with full control.</p>
<h3 id="step-1-launch-ec2-instance">Step 1: Launch EC2 Instance</h3>
<ol>
<li>Choose Ubuntu 22.04 LTS</li>
<li>Instance type: t3.medium or larger</li>
<li>Security group: Allow ports 22 (SSH), 80 (HTTP), 443 (HTTPS)</li>
<li>Create/download key pair</li>
</ol>
<h3 id="step-2-connect-via-ssh">Step 2: Connect via SSH</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">chmod</span><span style="color:#79B8FF"> 400</span><span style="color:#9ECBFF"> your-key.pem</span></span>
<span class="line"><span style="color:#B392F0">ssh</span><span style="color:#79B8FF"> -i</span><span style="color:#9ECBFF"> your-key.pem</span><span style="color:#9ECBFF"> ubuntu@your-ec2-ip</span></span></code></pre>
<h3 id="step-3-install-dependencies">Step 3: Install Dependencies</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Update system</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt</span><span style="color:#9ECBFF"> update</span><span style="color:#E1E4E8"> &#x26;&#x26; </span><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt</span><span style="color:#9ECBFF"> upgrade</span><span style="color:#79B8FF"> -y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Install Node.js 20</span></span>
<span class="line"><span style="color:#B392F0">curl</span><span style="color:#79B8FF"> -fsSL</span><span style="color:#9ECBFF"> https://deb.nodesource.com/setup_20.x</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> sudo</span><span style="color:#79B8FF"> -E</span><span style="color:#9ECBFF"> bash</span><span style="color:#9ECBFF"> -</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt-get</span><span style="color:#9ECBFF"> install</span><span style="color:#79B8FF"> -y</span><span style="color:#9ECBFF"> nodejs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Install MySQL</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> mysql-server</span><span style="color:#79B8FF"> -y</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> mysql_secure_installation</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Install PM2</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> npm</span><span style="color:#9ECBFF"> install</span><span style="color:#79B8FF"> -g</span><span style="color:#9ECBFF"> pm2</span></span></code></pre>
<h3 id="step-4-setup-database">Step 4: Setup Database</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> mysql</span><span style="color:#79B8FF"> -u</span><span style="color:#9ECBFF"> root</span><span style="color:#79B8FF"> -p</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">CREATE</span><span style="color:#9ECBFF"> DATABASE</span><span style="color:#9ECBFF"> mydb</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#B392F0">CREATE</span><span style="color:#9ECBFF"> USER</span><span style="color:#9ECBFF"> 'apiuser'@'localhost'</span><span style="color:#9ECBFF"> IDENTIFIED</span><span style="color:#9ECBFF"> BY</span><span style="color:#9ECBFF"> 'strong-password'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#B392F0">GRANT</span><span style="color:#9ECBFF"> ALL</span><span style="color:#9ECBFF"> PRIVILEGES</span><span style="color:#9ECBFF"> ON</span><span style="color:#9ECBFF"> mydb.</span><span style="color:#79B8FF">*</span><span style="color:#9ECBFF"> TO</span><span style="color:#9ECBFF"> 'apiuser'@'localhost'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#B392F0">FLUSH</span><span style="color:#9ECBFF"> PRIVILEGES</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#B392F0">EXIT</span><span style="color:#E1E4E8">;</span></span></code></pre>
<h3 id="step-5-deploy-application">Step 5: Deploy Application</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Clone repo</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> clone</span><span style="color:#9ECBFF"> https://github.com/yourusername/your-api.git</span></span>
<span class="line"><span style="color:#79B8FF">cd</span><span style="color:#9ECBFF"> your-api</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Install dependencies</span></span>
<span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> install</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Setup environment</span></span>
<span class="line"><span style="color:#B392F0">cat</span><span style="color:#F97583"> ></span><span style="color:#9ECBFF"> .env</span><span style="color:#F97583"> &#x3C;&#x3C;</span><span style="color:#9ECBFF"> EOF</span></span>
<span class="line"><span style="color:#9ECBFF">DATABASE_URL="mysql://apiuser:strong-password@localhost:3306/mydb"</span></span>
<span class="line"><span style="color:#9ECBFF">NODE_ENV=production</span></span>
<span class="line"><span style="color:#9ECBFF">API_PORT=3000</span></span>
<span class="line"><span style="color:#9ECBFF">EOF</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Generate Prisma client</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> prisma</span><span style="color:#9ECBFF"> generate</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Build</span></span>
<span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> run</span><span style="color:#9ECBFF"> build</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Start with PM2</span></span>
<span class="line"><span style="color:#B392F0">pm2</span><span style="color:#9ECBFF"> start</span><span style="color:#9ECBFF"> dist/server.js</span><span style="color:#79B8FF"> --name</span><span style="color:#9ECBFF"> api</span></span>
<span class="line"><span style="color:#B392F0">pm2</span><span style="color:#9ECBFF"> startup</span></span>
<span class="line"><span style="color:#B392F0">pm2</span><span style="color:#9ECBFF"> save</span></span></code></pre>
<h3 id="step-6-setup-nginx-reverse-proxy">Step 6: Setup Nginx Reverse Proxy</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> nginx</span><span style="color:#79B8FF"> -y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> nano</span><span style="color:#9ECBFF"> /etc/nginx/sites-available/api</span></span></code></pre>
<p>Add configuration:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="nginx"><code><span class="line"><span style="color:#F97583">server</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    listen </span><span style="color:#79B8FF">80</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">    server_name </span><span style="color:#E1E4E8">api.yourdomain.com;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    location</span><span style="color:#B392F0"> / </span><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#F97583">        proxy_pass </span><span style="color:#E1E4E8">http://localhost:3000;</span></span>
<span class="line"><span style="color:#F97583">        proxy_http_version </span><span style="color:#79B8FF">1.1</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">        proxy_set_header </span><span style="color:#E1E4E8">Upgrade $http_upgrade;</span></span>
<span class="line"><span style="color:#F97583">        proxy_set_header </span><span style="color:#E1E4E8">Connection </span><span style="color:#9ECBFF">'upgrade'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">        proxy_set_header </span><span style="color:#E1E4E8">Host $host;</span></span>
<span class="line"><span style="color:#F97583">        proxy_cache_bypass </span><span style="color:#E1E4E8">$http_upgrade;</span></span>
<span class="line"><span style="color:#F97583">        proxy_set_header </span><span style="color:#E1E4E8">X-Real-IP $remote_addr;</span></span>
<span class="line"><span style="color:#F97583">        proxy_set_header </span><span style="color:#E1E4E8">X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Enable site:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> ln</span><span style="color:#79B8FF"> -s</span><span style="color:#9ECBFF"> /etc/nginx/sites-available/api</span><span style="color:#9ECBFF"> /etc/nginx/sites-enabled/</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> nginx</span><span style="color:#79B8FF"> -t</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> systemctl</span><span style="color:#9ECBFF"> reload</span><span style="color:#9ECBFF"> nginx</span></span></code></pre>
<h3 id="step-7-ssl-with-lets-encrypt">Step 7: SSL with Let’s Encrypt</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> certbot</span><span style="color:#9ECBFF"> python3-certbot-nginx</span><span style="color:#79B8FF"> -y</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> certbot</span><span style="color:#79B8FF"> --nginx</span><span style="color:#79B8FF"> -d</span><span style="color:#9ECBFF"> api.yourdomain.com</span></span></code></pre>
<hr>
<h2 id="digitalocean-app-platform">DigitalOcean App Platform</h2>
<p>Similar to Heroku, fully managed.</p>
<h3 id="step-1-create-app">Step 1: Create App</h3>
<ol>
<li>Go to DigitalOcean App Platform</li>
<li>Connect GitHub repository</li>
<li>Choose branch to deploy</li>
</ol>
<h3 id="step-2-configure-build">Step 2: Configure Build</h3>
<p>App spec (auto-detected or create <code>app.yaml</code>):</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="yaml"><code><span class="line"><span style="color:#85E89D">name</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">databridge-api</span></span>
<span class="line"><span style="color:#85E89D">services</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">  - </span><span style="color:#85E89D">name</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">api</span></span>
<span class="line"><span style="color:#85E89D">    github</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">      repo</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">yourusername/your-api</span></span>
<span class="line"><span style="color:#85E89D">      branch</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">main</span></span>
<span class="line"><span style="color:#85E89D">    build_command</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">npm install &#x26;&#x26; npx prisma generate &#x26;&#x26; npm run build</span></span>
<span class="line"><span style="color:#85E89D">    run_command</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">npm start</span></span>
<span class="line"><span style="color:#85E89D">    environment_slug</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">node-js</span></span>
<span class="line"><span style="color:#85E89D">    instance_count</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">1</span></span>
<span class="line"><span style="color:#85E89D">    instance_size_slug</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">basic-xs</span></span>
<span class="line"><span style="color:#85E89D">    http_port</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">8080</span></span>
<span class="line"><span style="color:#85E89D">    envs</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#85E89D">key</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">NODE_ENV</span></span>
<span class="line"><span style="color:#85E89D">        value</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">production</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#85E89D">key</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">API_PORT</span></span>
<span class="line"><span style="color:#85E89D">        value</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"8080"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#85E89D">databases</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">  - </span><span style="color:#85E89D">name</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">db</span></span>
<span class="line"><span style="color:#85E89D">    engine</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">MYSQL</span></span>
<span class="line"><span style="color:#85E89D">    version</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"8"</span></span></code></pre>
<h3 id="step-3-deploy">Step 3: Deploy</h3>
<p>App Platform will automatically:</p>
<ul>
<li>Build your app</li>
<li>Provision MySQL database</li>
<li>Set <code>DATABASE_URL</code></li>
<li>Deploy and provide URL</li>
</ul>
<hr>
<h2 id="docker-deployment">Docker Deployment</h2>
<p>Containerize your application for any platform.</p>
<h3 id="dockerfile">Dockerfile</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="dockerfile"><code><span class="line"><span style="color:#F97583">FROM</span><span style="color:#E1E4E8"> node:20-alpine</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">WORKDIR</span><span style="color:#E1E4E8"> /app</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Copy package files</span></span>
<span class="line"><span style="color:#F97583">COPY</span><span style="color:#E1E4E8"> package*.json ./</span></span>
<span class="line"><span style="color:#F97583">COPY</span><span style="color:#E1E4E8"> prisma ./prisma/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Install dependencies</span></span>
<span class="line"><span style="color:#F97583">RUN</span><span style="color:#E1E4E8"> npm ci --only=production</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Generate Prisma client</span></span>
<span class="line"><span style="color:#F97583">RUN</span><span style="color:#E1E4E8"> npx prisma generate</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Copy source</span></span>
<span class="line"><span style="color:#F97583">COPY</span><span style="color:#E1E4E8"> . .</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Build TypeScript</span></span>
<span class="line"><span style="color:#F97583">RUN</span><span style="color:#E1E4E8"> npm run build</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Expose port</span></span>
<span class="line"><span style="color:#F97583">EXPOSE</span><span style="color:#E1E4E8"> 8080</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Start app</span></span>
<span class="line"><span style="color:#F97583">CMD</span><span style="color:#E1E4E8"> [</span><span style="color:#9ECBFF">"npm"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"start"</span><span style="color:#E1E4E8">]</span></span></code></pre>
<h3 id="docker-composeyml-production">docker-compose.yml (Production)</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="yaml"><code><span class="line"><span style="color:#85E89D">version</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'3.8'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#85E89D">services</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">  api</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">    build</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">.</span></span>
<span class="line"><span style="color:#85E89D">    restart</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">unless-stopped</span></span>
<span class="line"><span style="color:#85E89D">    ports</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#9ECBFF">"8080:8080"</span></span>
<span class="line"><span style="color:#85E89D">    environment</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">      NODE_ENV</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">production</span></span>
<span class="line"><span style="color:#85E89D">      DATABASE_URL</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">mysql://root:${MYSQL_ROOT_PASSWORD}@db:3306/${MYSQL_DATABASE}</span></span>
<span class="line"><span style="color:#85E89D">      API_PORT</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">8080</span></span>
<span class="line"><span style="color:#85E89D">    depends_on</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">      db</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">        condition</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">service_healthy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#85E89D">  db</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">    image</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">mysql:8.0</span></span>
<span class="line"><span style="color:#85E89D">    restart</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">unless-stopped</span></span>
<span class="line"><span style="color:#85E89D">    environment</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">      MYSQL_ROOT_PASSWORD</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">${MYSQL_ROOT_PASSWORD}</span></span>
<span class="line"><span style="color:#85E89D">      MYSQL_DATABASE</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">${MYSQL_DATABASE}</span></span>
<span class="line"><span style="color:#85E89D">    volumes</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#9ECBFF">mysql_data:/var/lib/mysql</span></span>
<span class="line"><span style="color:#85E89D">    healthcheck</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">      test</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">"CMD"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"mysqladmin"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"ping"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"-h"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"localhost"</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#85E89D">      interval</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">10s</span></span>
<span class="line"><span style="color:#85E89D">      timeout</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">5s</span></span>
<span class="line"><span style="color:#85E89D">      retries</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#85E89D">  nginx</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">    image</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">nginx:alpine</span></span>
<span class="line"><span style="color:#85E89D">    restart</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">unless-stopped</span></span>
<span class="line"><span style="color:#85E89D">    ports</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#9ECBFF">"80:80"</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#9ECBFF">"443:443"</span></span>
<span class="line"><span style="color:#85E89D">    volumes</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#9ECBFF">./nginx.conf:/etc/nginx/nginx.conf</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#9ECBFF">./ssl:/etc/nginx/ssl</span></span>
<span class="line"><span style="color:#85E89D">    depends_on</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#9ECBFF">api</span></span>
<span class="line"></span>
<span class="line"><span style="color:#85E89D">volumes</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">  mysql_data</span><span style="color:#E1E4E8">:</span></span></code></pre>
<h3 id="build-and-deploy">Build and Deploy</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">docker-compose</span><span style="color:#9ECBFF"> up</span><span style="color:#79B8FF"> -d</span><span style="color:#79B8FF"> --build</span></span></code></pre>
<hr>
<h2 id="environment-variables-management">Environment Variables Management</h2>
<h3 id="railway">Railway</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">railway</span><span style="color:#9ECBFF"> variables</span><span style="color:#9ECBFF"> set</span><span style="color:#9ECBFF"> KEY=value</span></span></code></pre>
<h3 id="vercel">Vercel</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">vercel</span><span style="color:#9ECBFF"> env</span><span style="color:#9ECBFF"> add</span><span style="color:#9ECBFF"> KEY</span><span style="color:#9ECBFF"> production</span></span></code></pre>
<h3 id="aws-ssm-parameter-store">AWS (SSM Parameter Store)</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">aws</span><span style="color:#9ECBFF"> ssm</span><span style="color:#9ECBFF"> put-parameter</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">  --name</span><span style="color:#9ECBFF"> /myapp/DATABASE_URL</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">  --value</span><span style="color:#9ECBFF"> "mysql://..."</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">  --type</span><span style="color:#9ECBFF"> SecureString</span></span></code></pre>
<h3 id="digitalocean">DigitalOcean</h3>
<p>Through App Platform UI or doctl CLI:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">doctl</span><span style="color:#9ECBFF"> apps</span><span style="color:#9ECBFF"> update</span><span style="color:#E1E4E8"> $APP_ID </span><span style="color:#79B8FF">--spec</span><span style="color:#9ECBFF"> app.yaml</span></span></code></pre>
<hr>
<h2 id="health-checks">Health Checks</h2>
<p>Ensure your API has health endpoints:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#E1E4E8">fastify.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'/health'</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">async</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> dbHealth</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> fastify.prisma.</span><span style="color:#B392F0">$queryRaw</span><span style="color:#9ECBFF">`SELECT 1`</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    status: </span><span style="color:#9ECBFF">'ok'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    database: dbHealth </span><span style="color:#F97583">?</span><span style="color:#9ECBFF"> 'connected'</span><span style="color:#F97583"> :</span><span style="color:#9ECBFF"> 'disconnected'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    uptime: process.</span><span style="color:#B392F0">uptime</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">    timestamp: </span><span style="color:#F97583">new</span><span style="color:#B392F0"> Date</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">toISOString</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">  };</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
<hr>
<h2 id="monitoring--logging">Monitoring &#x26; Logging</h2>
<h3 id="production-logging">Production Logging</h3>
<p>Use JSON logging for log aggregation:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> fastify</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> Fastify</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  logger: process.env.</span><span style="color:#79B8FF">NODE_ENV</span><span style="color:#F97583"> ===</span><span style="color:#9ECBFF"> 'production'</span></span>
<span class="line"><span style="color:#F97583">    ?</span><span style="color:#79B8FF"> true</span><span style="color:#6A737D">  // JSON logging</span></span>
<span class="line"><span style="color:#F97583">    :</span><span style="color:#E1E4E8"> {     </span><span style="color:#6A737D">// Pretty logging for dev</span></span>
<span class="line"><span style="color:#E1E4E8">        transport: {</span></span>
<span class="line"><span style="color:#E1E4E8">          target: </span><span style="color:#9ECBFF">'pino-pretty'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          options: {</span></span>
<span class="line"><span style="color:#E1E4E8">            translateTime: </span><span style="color:#9ECBFF">'HH:MM:ss Z'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">            ignore: </span><span style="color:#9ECBFF">'pid,hostname'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          },</span></span>
<span class="line"><span style="color:#E1E4E8">        },</span></span>
<span class="line"><span style="color:#E1E4E8">      },</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
<h3 id="pm2-monitoring">PM2 Monitoring</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">pm2</span><span style="color:#9ECBFF"> monit</span></span>
<span class="line"><span style="color:#B392F0">pm2</span><span style="color:#9ECBFF"> logs</span><span style="color:#9ECBFF"> api</span></span>
<span class="line"><span style="color:#B392F0">pm2</span><span style="color:#9ECBFF"> describe</span><span style="color:#9ECBFF"> api</span></span></code></pre>
<h3 id="error-tracking">Error Tracking</h3>
<p>Integrate Sentry:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> @sentry/node</span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#79B8FF"> *</span><span style="color:#F97583"> as</span><span style="color:#E1E4E8"> Sentry </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> '@sentry/node'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">Sentry.</span><span style="color:#B392F0">init</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  dsn: process.env.</span><span style="color:#79B8FF">SENTRY_DSN</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  environment: process.env.</span><span style="color:#79B8FF">NODE_ENV</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">fastify.</span><span style="color:#B392F0">setErrorHandler</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">error</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">request</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">reply</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  Sentry.</span><span style="color:#B392F0">captureException</span><span style="color:#E1E4E8">(error);</span></span>
<span class="line"><span style="color:#E1E4E8">  request.log.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(error);</span></span>
<span class="line"><span style="color:#E1E4E8">  reply.</span><span style="color:#B392F0">status</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">500</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">send</span><span style="color:#E1E4E8">({ error: </span><span style="color:#9ECBFF">'Internal server error'</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
<hr>
<h2 id="database-migrations">Database Migrations</h2>
<h3 id="production-migration-strategy">Production Migration Strategy</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># 1. Backup database</span></span>
<span class="line"><span style="color:#B392F0">mysqldump</span><span style="color:#79B8FF"> -u</span><span style="color:#9ECBFF"> user</span><span style="color:#79B8FF"> -p</span><span style="color:#9ECBFF"> mydb</span><span style="color:#F97583"> ></span><span style="color:#9ECBFF"> backup.sql</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 2. Run migrations</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> prisma</span><span style="color:#9ECBFF"> migrate</span><span style="color:#9ECBFF"> deploy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 3. Verify</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> prisma</span><span style="color:#9ECBFF"> migrate</span><span style="color:#9ECBFF"> status</span></span></code></pre>
<h3 id="zero-downtime-migrations">Zero-Downtime Migrations</h3>
<ol>
<li>Deploy new version (backward compatible)</li>
<li>Run migrations</li>
<li>Verify health checks</li>
<li>Switch traffic</li>
<li>Remove old version</li>
</ol>
<hr>
<h2 id="performance-optimization">Performance Optimization</h2>
<h3 id="connection-pooling">Connection Pooling</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> prisma</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> PrismaClient</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  datasources: {</span></span>
<span class="line"><span style="color:#E1E4E8">    db: {</span></span>
<span class="line"><span style="color:#E1E4E8">      url: process.env.</span><span style="color:#79B8FF">DATABASE_URL</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    },</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#E1E4E8">  log: [</span><span style="color:#9ECBFF">'error'</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
<h3 id="caching">Caching</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> @fastify/caching</span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> caching </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> '@fastify/caching'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">await</span><span style="color:#E1E4E8"> fastify.</span><span style="color:#B392F0">register</span><span style="color:#E1E4E8">(caching, {</span></span>
<span class="line"><span style="color:#E1E4E8">  privacy: </span><span style="color:#9ECBFF">'public'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  expiresIn: </span><span style="color:#79B8FF">300</span><span style="color:#E1E4E8">, </span><span style="color:#6A737D">// 5 minutes</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">fastify.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'/products'</span><span style="color:#E1E4E8">, {</span></span>
<span class="line"><span style="color:#E1E4E8">  cache: { expiresIn: </span><span style="color:#79B8FF">60</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#E1E4E8">}, </span><span style="color:#F97583">async</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> prisma.products.</span><span style="color:#B392F0">findMany</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
<h3 id="rate-limiting">Rate Limiting</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> @fastify/rate-limit</span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> rateLimit </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> '@fastify/rate-limit'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">await</span><span style="color:#E1E4E8"> fastify.</span><span style="color:#B392F0">register</span><span style="color:#E1E4E8">(rateLimit, {</span></span>
<span class="line"><span style="color:#E1E4E8">  max: </span><span style="color:#79B8FF">100</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  timeWindow: </span><span style="color:#9ECBFF">'15 minutes'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
<hr>
<h2 id="security-best-practices">Security Best Practices</h2>
<ul>
<li>✅ Use HTTPS (SSL/TLS)</li>
<li>✅ Enable CORS only for trusted origins</li>
<li>✅ Set security headers (Helmet)</li>
<li>✅ Use environment variables for secrets</li>
<li>✅ Enable rate limiting</li>
<li>✅ Implement authentication</li>
<li>✅ Keep dependencies updated</li>
<li>✅ Use SQL injection protection (Prisma handles this)</li>
<li>✅ Implement request logging</li>
<li>✅ Regular security audits</li>
</ul>
<hr>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="database-connection-issues">Database Connection Issues</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Test connection</span></span>
<span class="line"><span style="color:#B392F0">mysql</span><span style="color:#79B8FF"> -h</span><span style="color:#9ECBFF"> your-db-host</span><span style="color:#79B8FF"> -u</span><span style="color:#9ECBFF"> user</span><span style="color:#79B8FF"> -p</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Check environment variables</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#E1E4E8"> $DATABASE_URL</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Prisma debug</span></span>
<span class="line"><span style="color:#E1E4E8">DEBUG</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"prisma:*"</span><span style="color:#B392F0"> npm</span><span style="color:#9ECBFF"> start</span></span></code></pre>
<h3 id="memory-issues">Memory Issues</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Increase Node.js memory</span></span>
<span class="line"><span style="color:#E1E4E8">NODE_OPTIONS</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"--max-old-space-size=4096"</span><span style="color:#B392F0"> npm</span><span style="color:#9ECBFF"> start</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># PM2</span></span>
<span class="line"><span style="color:#B392F0">pm2</span><span style="color:#9ECBFF"> start</span><span style="color:#9ECBFF"> dist/server.js</span><span style="color:#79B8FF"> --max-memory-restart</span><span style="color:#9ECBFF"> 1G</span></span></code></pre>
<h3 id="high-cpu">High CPU</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># PM2 cluster mode</span></span>
<span class="line"><span style="color:#B392F0">pm2</span><span style="color:#9ECBFF"> start</span><span style="color:#9ECBFF"> dist/server.js</span><span style="color:#79B8FF"> -i</span><span style="color:#9ECBFF"> max</span></span></code></pre>
<hr>
<h2 id="next-steps">Next Steps</h2>
<ul>
<li><strong><a href="../advanced/authentication.md">Authentication Guide</a></strong> - Secure your API</li>
<li><strong><a href="../advanced/performance.md">Performance Optimization</a></strong> - Scale your API</li>
<li><strong><a href="../advanced/monitoring.md">Monitoring</a></strong> - Track production health</li>
</ul>
<hr>
<h2 id="additional-resources">Additional Resources</h2>
<ul>
<li><a href="https://docs.railway.app/">Railway Documentation</a></li>
<li><a href="https://vercel.com/docs">Vercel Documentation</a></li>
<li><a href="https://docs.aws.amazon.com/ec2/">AWS EC2 Guide</a></li>
<li><a href="https://pm2.keymetrics.io/">PM2 Documentation</a></li>
</ul> <nav class="mt-12 pt-8 border-t border-border grid grid-cols-1 sm:grid-cols-2 gap-4"><a href="/databridge-docs/docs/databridge/getting-started/quick-start" class="group flex flex-col gap-2 p-4 rounded-lg border border-border hover:border-primary transition-colors"><span class="text-sm text-muted-foreground">Previous</span><span class="font-medium group-hover:text-primary transition-colors flex items-center gap-2"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>Quick Start Guide</span></a><a href="/databridge-docs/docs/databridge/development/understanding-generated-code" class="group flex flex-col gap-2 p-4 rounded-lg border border-border hover:border-primary transition-colors text-right sm:ml-auto"><span class="text-sm text-muted-foreground">Next</span><span class="font-medium group-hover:text-primary transition-colors flex items-center gap-2 justify-end">Understanding Generated Code<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></span></a></nav>  <script type="module">function r(){document.querySelectorAll("pre").forEach(t=>{if(t.querySelector(".copy-button"))return;const o=document.createElement("div");o.className="code-block-wrapper",t.parentNode?.insertBefore(o,t),o.appendChild(t);const e=document.createElement("button");e.className="copy-button",e.setAttribute("aria-label","Copy code"),e.innerHTML=`
        <svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
        </svg>
        <svg class="check-icon hidden" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      `,e.addEventListener("click",async()=>{const n=t.querySelector("code");if(!n)return;const i=n.textContent||"";try{await navigator.clipboard.writeText(i);const c=e.querySelector(".copy-icon"),s=e.querySelector(".check-icon");c?.classList.add("hidden"),s?.classList.remove("hidden"),e.classList.add("copied"),setTimeout(()=>{c?.classList.remove("hidden"),s?.classList.add("hidden"),e.classList.remove("copied")},2e3)}catch(c){console.error("Failed to copy:",c)}}),o.appendChild(e)})}r();document.addEventListener("astro:page-load",r);</script>  <div class="mt-12 pt-8 border-t border-border"><div class="flex flex-col items-center gap-4 p-6 bg-muted/30 rounded-lg"><h3 class="text-lg font-semibold text-foreground">Was this page helpful?</h3><div class="flex gap-3" id="feedback-buttons"><button data-feedback="yes" class="px-6 py-2.5 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors font-medium flex items-center gap-2"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"></path></svg>
Yes
</button><button data-feedback="no" class="px-6 py-2.5 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors font-medium flex items-center gap-2"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"></path></svg>
No
</button></div><div id="feedback-message" class="hidden text-center"><p class="text-sm text-muted-foreground">Thank you for your feedback!</p></div><div id="feedback-form" class="hidden w-full max-w-md"><textarea id="feedback-text" placeholder="Tell us more (optional)..." class="w-full px-4 py-3 border border-border rounded-md bg-background text-foreground resize-none focus:outline-none focus:ring-2 focus:ring-primary" rows="3"></textarea><div class="flex gap-2 mt-3"><button id="submit-feedback" class="px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm font-medium">
Submit
</button><button id="skip-feedback" class="px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors text-sm font-medium">
Skip
</button></div></div></div></div><script type="module">function l(){const t=document.getElementById("feedback-buttons"),s=document.getElementById("feedback-message"),n=document.getElementById("feedback-form"),m=document.querySelector('[data-feedback="yes"]'),r=document.querySelector('[data-feedback="no"]'),u=document.getElementById("submit-feedback"),f=document.getElementById("skip-feedback"),k=document.getElementById("feedback-text");if(!t||!s||!n)return;let c="";function d(){t?.classList.add("hidden"),n?.classList.add("hidden"),s?.classList.remove("hidden")}function b(e){c=e,t?.classList.add("hidden"),n?.classList.remove("hidden")}m?.addEventListener("click",()=>{a("yes",""),d()}),r?.addEventListener("click",()=>{b("no")}),u?.addEventListener("click",()=>{const e=k?.value||"";a(c,e),d()}),f?.addEventListener("click",()=>{a(c,""),d()});function a(e,g){const o={helpful:e,comment:g,page:window.location.pathname,timestamp:new Date().toISOString()};console.log("Feedback:",o);const i=JSON.parse(localStorage.getItem("clarity-feedback")||"[]");i.push(o),localStorage.setItem("clarity-feedback",JSON.stringify(i))}}l();document.addEventListener("astro:page-load",l);</script>  <div class="mt-8 pt-8 border-t border-border"><a href="https://github.com/alex-migwi/clarity/edit/main/src/content/docs/databridge/deployment/production-deployment.md" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Edit this page on GitHub</a></div> </article> <aside class="hidden xl:block w-64 flex-shrink-0"> <div class="sticky top-24 max-h-[calc(100vh-7rem)] overflow-y-auto"> <h2 class="font-semibold mb-4 text-sm">
On this page
</h2> <nav class="text-sm" id="table-of-contents"> <ul class="space-y-2.5"> <li class="pl-0 relative"> <a href="#production-deployment" data-toc-link data-target="production-deployment" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Production Deployment </a> </li><li class="pl-3 relative"> <a href="#overview" data-toc-link data-target="overview" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Overview </a> </li><li class="pl-3 relative"> <a href="#pre-deployment-checklist" data-toc-link data-target="pre-deployment-checklist" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Pre-Deployment Checklist </a> </li><li class="pl-6 relative"> <a href="#environment-variables" data-toc-link data-target="environment-variables" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Environment Variables </a> </li><li class="pl-6 relative"> <a href="#production-dependencies" data-toc-link data-target="production-dependencies" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Production Dependencies </a> </li><li class="pl-6 relative"> <a href="#build-configuration" data-toc-link data-target="build-configuration" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Build Configuration </a> </li><li class="pl-3 relative"> <a href="#railway-deployment" data-toc-link data-target="railway-deployment" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Railway Deployment </a> </li><li class="pl-6 relative"> <a href="#step-1-install-railway-cli" data-toc-link data-target="step-1-install-railway-cli" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 1: Install Railway CLI </a> </li><li class="pl-6 relative"> <a href="#step-2-initialize-project" data-toc-link data-target="step-2-initialize-project" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 2: Initialize Project </a> </li><li class="pl-6 relative"> <a href="#step-3-add-mysql-database" data-toc-link data-target="step-3-add-mysql-database" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 3: Add MySQL Database </a> </li><li class="pl-6 relative"> <a href="#step-4-configure-build" data-toc-link data-target="step-4-configure-build" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 4: Configure Build </a> </li><li class="pl-6 relative"> <a href="#step-5-deploy" data-toc-link data-target="step-5-deploy" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 5: Deploy </a> </li><li class="pl-6 relative"> <a href="#environment-variables-1" data-toc-link data-target="environment-variables-1" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Environment Variables </a> </li><li class="pl-3 relative"> <a href="#vercel-deployment" data-toc-link data-target="vercel-deployment" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Vercel Deployment </a> </li><li class="pl-6 relative"> <a href="#step-1-install-vercel-cli" data-toc-link data-target="step-1-install-vercel-cli" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 1: Install Vercel CLI </a> </li><li class="pl-6 relative"> <a href="#step-2-configure-verceljson" data-toc-link data-target="step-2-configure-verceljson" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 2: Configure vercel.json </a> </li><li class="pl-6 relative"> <a href="#step-3-add-serverless-adapter" data-toc-link data-target="step-3-add-serverless-adapter" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 3: Add Serverless Adapter </a> </li><li class="pl-6 relative"> <a href="#step-4-deploy" data-toc-link data-target="step-4-deploy" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 4: Deploy </a> </li><li class="pl-3 relative"> <a href="#aws-ec2-deployment" data-toc-link data-target="aws-ec2-deployment" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> AWS EC2 Deployment </a> </li><li class="pl-6 relative"> <a href="#step-1-launch-ec2-instance" data-toc-link data-target="step-1-launch-ec2-instance" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 1: Launch EC2 Instance </a> </li><li class="pl-6 relative"> <a href="#step-2-connect-via-ssh" data-toc-link data-target="step-2-connect-via-ssh" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 2: Connect via SSH </a> </li><li class="pl-6 relative"> <a href="#step-3-install-dependencies" data-toc-link data-target="step-3-install-dependencies" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 3: Install Dependencies </a> </li><li class="pl-6 relative"> <a href="#step-4-setup-database" data-toc-link data-target="step-4-setup-database" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 4: Setup Database </a> </li><li class="pl-6 relative"> <a href="#step-5-deploy-application" data-toc-link data-target="step-5-deploy-application" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 5: Deploy Application </a> </li><li class="pl-6 relative"> <a href="#step-6-setup-nginx-reverse-proxy" data-toc-link data-target="step-6-setup-nginx-reverse-proxy" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 6: Setup Nginx Reverse Proxy </a> </li><li class="pl-6 relative"> <a href="#step-7-ssl-with-lets-encrypt" data-toc-link data-target="step-7-ssl-with-lets-encrypt" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 7: SSL with Let’s Encrypt </a> </li><li class="pl-3 relative"> <a href="#digitalocean-app-platform" data-toc-link data-target="digitalocean-app-platform" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> DigitalOcean App Platform </a> </li><li class="pl-6 relative"> <a href="#step-1-create-app" data-toc-link data-target="step-1-create-app" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 1: Create App </a> </li><li class="pl-6 relative"> <a href="#step-2-configure-build" data-toc-link data-target="step-2-configure-build" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 2: Configure Build </a> </li><li class="pl-6 relative"> <a href="#step-3-deploy" data-toc-link data-target="step-3-deploy" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Step 3: Deploy </a> </li><li class="pl-3 relative"> <a href="#docker-deployment" data-toc-link data-target="docker-deployment" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Docker Deployment </a> </li><li class="pl-6 relative"> <a href="#dockerfile" data-toc-link data-target="dockerfile" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Dockerfile </a> </li><li class="pl-6 relative"> <a href="#docker-composeyml-production" data-toc-link data-target="docker-composeyml-production" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> docker-compose.yml (Production) </a> </li><li class="pl-6 relative"> <a href="#build-and-deploy" data-toc-link data-target="build-and-deploy" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Build and Deploy </a> </li><li class="pl-3 relative"> <a href="#environment-variables-management" data-toc-link data-target="environment-variables-management" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Environment Variables Management </a> </li><li class="pl-6 relative"> <a href="#railway" data-toc-link data-target="railway" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Railway </a> </li><li class="pl-6 relative"> <a href="#vercel" data-toc-link data-target="vercel" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Vercel </a> </li><li class="pl-6 relative"> <a href="#aws-ssm-parameter-store" data-toc-link data-target="aws-ssm-parameter-store" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> AWS (SSM Parameter Store) </a> </li><li class="pl-6 relative"> <a href="#digitalocean" data-toc-link data-target="digitalocean" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> DigitalOcean </a> </li><li class="pl-3 relative"> <a href="#health-checks" data-toc-link data-target="health-checks" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Health Checks </a> </li><li class="pl-3 relative"> <a href="#monitoring--logging" data-toc-link data-target="monitoring--logging" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Monitoring &amp; Logging </a> </li><li class="pl-6 relative"> <a href="#production-logging" data-toc-link data-target="production-logging" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Production Logging </a> </li><li class="pl-6 relative"> <a href="#pm2-monitoring" data-toc-link data-target="pm2-monitoring" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> PM2 Monitoring </a> </li><li class="pl-6 relative"> <a href="#error-tracking" data-toc-link data-target="error-tracking" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Error Tracking </a> </li><li class="pl-3 relative"> <a href="#database-migrations" data-toc-link data-target="database-migrations" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Database Migrations </a> </li><li class="pl-6 relative"> <a href="#production-migration-strategy" data-toc-link data-target="production-migration-strategy" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Production Migration Strategy </a> </li><li class="pl-6 relative"> <a href="#zero-downtime-migrations" data-toc-link data-target="zero-downtime-migrations" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Zero-Downtime Migrations </a> </li><li class="pl-3 relative"> <a href="#performance-optimization" data-toc-link data-target="performance-optimization" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Performance Optimization </a> </li><li class="pl-6 relative"> <a href="#connection-pooling" data-toc-link data-target="connection-pooling" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Connection Pooling </a> </li><li class="pl-6 relative"> <a href="#caching" data-toc-link data-target="caching" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Caching </a> </li><li class="pl-6 relative"> <a href="#rate-limiting" data-toc-link data-target="rate-limiting" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Rate Limiting </a> </li><li class="pl-3 relative"> <a href="#security-best-practices" data-toc-link data-target="security-best-practices" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Security Best Practices </a> </li><li class="pl-3 relative"> <a href="#troubleshooting" data-toc-link data-target="troubleshooting" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Troubleshooting </a> </li><li class="pl-6 relative"> <a href="#database-connection-issues" data-toc-link data-target="database-connection-issues" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Database Connection Issues </a> </li><li class="pl-6 relative"> <a href="#memory-issues" data-toc-link data-target="memory-issues" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Memory Issues </a> </li><li class="pl-6 relative"> <a href="#high-cpu" data-toc-link data-target="high-cpu" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> High CPU </a> </li><li class="pl-3 relative"> <a href="#next-steps" data-toc-link data-target="next-steps" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Next Steps </a> </li><li class="pl-3 relative"> <a href="#additional-resources" data-toc-link data-target="additional-resources" class="block text-muted-foreground hover:text-primary transition-colors duration-200 line-clamp-2 border-l-2 border-transparent hover:border-primary pl-3 -ml-[2px]"> Additional Resources </a> </li> </ul> </nav> <script type="module">function a(){const r=document.querySelectorAll("[data-toc-link]"),o=Array.from(document.querySelectorAll("h1, h2, h3, h4, h5, h6")).filter(t=>t.id);if(r.length===0||o.length===0)return;const s=new IntersectionObserver(t=>{t.forEach(n=>{const d=n.target.getAttribute("id"),e=document.querySelector(`[data-target="${d}"]`);n.isIntersecting&&(r.forEach(i=>{i.classList.remove("text-primary","border-primary","font-medium"),i.classList.add("text-muted-foreground","border-transparent")}),e&&(e.classList.remove("text-muted-foreground","border-transparent"),e.classList.add("text-primary","border-primary","font-medium")))})},{rootMargin:"-100px 0px -66%",threshold:0});o.forEach(t=>s.observe(t))}a();document.addEventListener("astro:page-load",a);</script> </div> </aside> </div> <footer class="mt-20 border-t border-border py-8 text-sm text-muted-foreground"> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"> <div class="flex flex-col md:flex-row justify-between items-center gap-4"> <p>© 2025 DataBridge Docs. All rights reserved.</p> <nav class="flex flex-wrap gap-6 justify-center"> <a href="https://alex-migwi.github.io/databridge-docs" class="hover:text-foreground transition-colors"> Documentation </a><a href="https://github.com/alex-migwi/databridge" class="hover:text-foreground transition-colors"> GitHub </a><a href="/privacy" class="hover:text-foreground transition-colors"> Privacy Policy </a><a href="/terms" class="hover:text-foreground transition-colors"> Terms of Service </a> </nav> </div> </div> </footer> </main> </div> <script type="module">const e=document.getElementById("sidebar"),t=document.getElementById("sidebar-backdrop"),d=document.getElementById("sidebar-toggle");function s(){if(!e||!t)return;!e.classList.contains("-translate-x-full")?(e.classList.add("-translate-x-full"),t.classList.add("hidden"),document.body.style.overflow=""):(e.classList.remove("-translate-x-full"),t.classList.remove("hidden"),document.body.style.overflow="hidden")}d?.addEventListener("click",s);t?.addEventListener("click",s);</script> <script type="module" src="/databridge-docs/_astro/Mermaid.astro_astro_type_script_index_0_lang.D9YJg_q9.js"></script> </body></html>