import { d as createAstro, c as createComponent, a as renderTemplate, h as defineScriptVars, r as renderComponent, b as addAttribute, g as renderHead } from '../chunks/astro/server_C7Z2_luB.mjs';
import 'kleur/colors';
/* empty css                                     */
import { $ as $$Footer, a as $$Header } from '../chunks/Footer_BmRAvYfw.mjs';
import { c as clarityConfig } from '../chunks/clarity.config_DRA55FFN.mjs';
export { renderers } from '../renderers.mjs';

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(raw || cooked.slice()) }));
var _a;
const $$Astro = createAstro("https://alex-migwi.github.io/databridge-docs");
const $$Login = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$Login;
  const backendUrl = "http://localhost:3000";
  const redirectUrl = Astro2.url.searchParams.get("redirect") || "";
  return renderTemplate(_a || (_a = __template(['<html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><title>Login - ', '</title><script>\n      // Theme initialization - must run before page renders\n      (function() {\n        const getThemePreference = () => {\n          if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {\n            return localStorage.getItem("theme");\n          }\n          return window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";\n        };\n        const theme = getThemePreference();\n        if (theme === "dark") {\n          document.documentElement.classList.add("dark");\n        } else {\n          document.documentElement.classList.remove("dark");\n        }\n      })();\n    </script>', '</head> <body class="bg-background text-foreground"> ', ' <main class="flex items-center justify-center min-h-[calc(100vh-4rem)] pt-16"> <div class="p-8 bg-card border border-border rounded-lg shadow-lg w-96"> <h1 class="text-3xl font-bold mb-6 text-center text-foreground">Login</h1> <p class="mb-6 text-center text-muted-foreground">Choose your preferred social login method:</p> <div class="space-y-4"> <a', ' class="flex items-center justify-center px-4 py-3 border border-border rounded-md shadow-sm text-sm font-medium text-foreground bg-background hover:bg-muted transition-colors oauth-link" data-provider="google"> <img src="/google-icon.svg" alt="Google" class="h-5 w-5 mr-3">\nLogin with Google\n</a> <a', ' class="flex items-center justify-center px-4 py-3 border border-border rounded-md shadow-sm text-sm font-medium text-foreground bg-background hover:bg-muted transition-colors oauth-link" data-provider="github"> <img src="/github-icon.svg" alt="GitHub" class="h-5 w-5 mr-3">\nLogin with GitHub\n</a> </div> </div> </main> ', " <script>(function(){", "\n      // Store redirect URL before OAuth flow\n      if (redirectUrl) {\n        document.querySelectorAll('.oauth-link').forEach(link => {\n          link.addEventListener('click', async (e) => {\n            e.preventDefault();\n            \n            try {\n              // Store redirect URL in backend session\n              await fetch(`${backendUrl}/auth/set-redirect?redirect=${encodeURIComponent(redirectUrl)}`, {\n                credentials: 'include'\n              });\n              \n              // Proceed with OAuth\n              window.location.href = link.getAttribute('href');\n            } catch (error) {\n              console.error('Failed to store redirect URL:', error);\n              // Proceed anyway\n              window.location.href = link.getAttribute('href');\n            }\n          });\n        });\n      }\n    })();</script> </body> </html>"], ['<html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><title>Login - ', '</title><script>\n      // Theme initialization - must run before page renders\n      (function() {\n        const getThemePreference = () => {\n          if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {\n            return localStorage.getItem("theme");\n          }\n          return window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";\n        };\n        const theme = getThemePreference();\n        if (theme === "dark") {\n          document.documentElement.classList.add("dark");\n        } else {\n          document.documentElement.classList.remove("dark");\n        }\n      })();\n    </script>', '</head> <body class="bg-background text-foreground"> ', ' <main class="flex items-center justify-center min-h-[calc(100vh-4rem)] pt-16"> <div class="p-8 bg-card border border-border rounded-lg shadow-lg w-96"> <h1 class="text-3xl font-bold mb-6 text-center text-foreground">Login</h1> <p class="mb-6 text-center text-muted-foreground">Choose your preferred social login method:</p> <div class="space-y-4"> <a', ' class="flex items-center justify-center px-4 py-3 border border-border rounded-md shadow-sm text-sm font-medium text-foreground bg-background hover:bg-muted transition-colors oauth-link" data-provider="google"> <img src="/google-icon.svg" alt="Google" class="h-5 w-5 mr-3">\nLogin with Google\n</a> <a', ' class="flex items-center justify-center px-4 py-3 border border-border rounded-md shadow-sm text-sm font-medium text-foreground bg-background hover:bg-muted transition-colors oauth-link" data-provider="github"> <img src="/github-icon.svg" alt="GitHub" class="h-5 w-5 mr-3">\nLogin with GitHub\n</a> </div> </div> </main> ', " <script>(function(){", "\n      // Store redirect URL before OAuth flow\n      if (redirectUrl) {\n        document.querySelectorAll('.oauth-link').forEach(link => {\n          link.addEventListener('click', async (e) => {\n            e.preventDefault();\n            \n            try {\n              // Store redirect URL in backend session\n              await fetch(\\`\\${backendUrl}/auth/set-redirect?redirect=\\${encodeURIComponent(redirectUrl)}\\`, {\n                credentials: 'include'\n              });\n              \n              // Proceed with OAuth\n              window.location.href = link.getAttribute('href');\n            } catch (error) {\n              console.error('Failed to store redirect URL:', error);\n              // Proceed anyway\n              window.location.href = link.getAttribute('href');\n            }\n          });\n        });\n      }\n    })();</script> </body> </html>"])), clarityConfig.site.name, renderHead(), renderComponent($$result, "Header", $$Header, {}), addAttribute(`${backendUrl}/auth/google`, "href"), addAttribute(`${backendUrl}/auth/github`, "href"), renderComponent($$result, "Footer", $$Footer, {}), defineScriptVars({ backendUrl, redirectUrl }));
}, "/home/runner/work/databridge/databridge/clarity/src/pages/login.astro", void 0);
const $$file = "/home/runner/work/databridge/databridge/clarity/src/pages/login.astro";
const $$url = "/databridge-docs/login";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$Login,
  file: $$file,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
